<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Новый клиент</title>
  <link rel="stylesheet" href="newClient.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page">
        <section class="panel">
            <div class="card">
                <a href="../index.html" class="back" aria-label="Назад к списку клиентов">
                    <img src="../images/heroicons_arrow-up-16-solid (1).svg" class="back__icon-img" alt="" aria-hidden="true">
                    <span class="back__text">Назад</span>
                </a>
                <h1 class="page-title">Добавить клиента</h1>

                <form class="form">
                    <div class="field">
                        <label class="field__label" for="f-name">ИМЯ</label>
                        <input id="f-name" class="field__input" type="text" placeholder="Роман Коргамов">
                    </div>

                    <div class="field">
                        <label class="field__label" for="f-email">КОНТАКТ</label>
                        <input id="f-email" class="field__input" type="email" placeholder="romgranov@gmail.com">
                    </div>

                    <div class="field">
                        <label class="field__label" for="f-company">КОМПАНИЯ</label>
                        <input id="f-company" class="field__input" type="text" placeholder="ROM&ANCE">
                    </div>

                    <div class="field">
                        <label class="field__label" for="f-phone">ТЕЛЕФОН</label>
                        <input id="f-phone" class="field__input" type="tel" placeholder="+7 (961) 435-23-53">
                    </div>
                </form>

                <div class="meta">
                    <div class="meta__col">
                        <div class="meta__label meta__label--status">СТАТУС</div>
                        <span class="status-badge status-badge--active">Активен</span>
                    </div>

                    <div class="meta__col meta__col--right">
                        <div class="meta__label meta__label--data">ДАТА ДОБАВЛЕНИЯ</div>
                        <div class="meta__value">10 Марта 2025</div>
                    </div>
                </div>

                <div class="actions">
                    <button type="button" class="btn--primary">Сохранить</button>
                    <button type="button" class="btn--danger">Удалить</button>
                </div>
            </div>
        </section>
    </div>
    <script>
        document.querySelector('.btn--primary').addEventListener('click', function () {
            const user = {
                name: document.getElementById('f-name').value,
                email: document.getElementById('f-email').value,
                company: document.getElementById('f-company').value,
                phone: document.getElementById('f-phone').value,
                status: "Активен",
                date: new Date().toLocaleDateString("ru-Ru", {
                    day: '2-digit',
                    month: 'long',
                    year: 'numeric'
                })
            };

            const users = JSON.parse(localStorage.getItem('users')) || [];

            users.push(user);

            localStorage.setItem('users', JSON.stringify(users));

            window.location.href = "../index.html";
        });

        document.querySelector('.btn--danger').addEventListener('click', () => {
            window.location.href = "../index.html";});
        document.querySelector('.form').addEventListener('submit', (e) => e.preventDefault());  
    </script>
</body>
</html>
